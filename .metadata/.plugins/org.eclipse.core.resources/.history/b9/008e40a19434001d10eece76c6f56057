/*
 * validaciones.c
 *
 *  Created on: 14 sept 2022
 *      Author: herni
 */

#include <validaciones.h>


int utn_getCaracter(char *pResultado, char *mensaje, char *mensajeError,

		char minimo, char maximo, int reintentos) {

	int retorno = -1; // Le cargo el valor de error.
	// Puede cambiar en el desarrollo si todo sale bien.

	char buffer; // Area de intercambio, lugar donde voy a dejar eso
	// que acaba de ingresar el usuario y yo todavia no valide.

	// --------------------------------------------------------------

	// COMPROBAR QUE PARAMETROS SON CORRECTOS:

	// Podemos validar si un puntero es distinto de NULL.
	// Y nos permite ver si la variable tiene cargada una direccion de memoria.

	//minimo siempre debe ser menor a maximo, o igual en casop de solo querer un caracter.

	if (pResultado != NULL && mensaje != NULL && mensajeError != NULL
			&& minimo <= maximo && reintentos >= 0) {

		// Un do-while para chequear intentos.
		do
		{
			printf("%s", mensaje);
			fflush(stdin);
			scanf("Caracter ingresado: %c", &buffer);
			// COMPROBAR QUE EL INGRESO ESTE BIEN
			if (buffer >= minimo && buffer <= maximo) {
				*pResultado = buffer;
				retorno = 0; // Salio bien
				break; // rompe iteracion
			}
			printf("%s", mensajeError);
			reintentos--;
		} while (reintentos >= 0); //para cuando sea -1.

	}

	return retorno;
}

